# Модель для определения начала и конца вегетационного периода

Этот проект использует спутниковые снимки Sentinel-2 и метеорологические данные ERA5-Land для обучения модели машинного обучения, которая предсказывает начало и конец вегетационного периода для заданных координат.

## Структура проекта

- `data/`: Папка для хранения исходных и обработанных данных (необходимо создать).
- `models/`: Папка для сохранения обученных моделей и графиков (создается автоматически).
- `1_data_preparation.py`: Скрипт для сбора, обработки и обогащения данных из Google Earth Engine и Copernicus CDS.
- `2_train_model.py`: Скрипт для обучения и оценки ансамблевой модели.
- `gee_visualizer.py`: Вспомогательный скрипт для визуализации RGB-снимков из GEE.
- `requirements.txt`: Список необходимых Python-библиотек.
- `README.md`: Этот файл.

## Установка

1.  Клонируйте репозиторий:
    ```bash
    git clone [URL вашего репозитория]
    cd [имя-папки-репозитория]
    ```

2.  Создайте и активируйте виртуальное окружение:
    ```bash
    python -m venv venv
    source venv/bin/activate  # Для Linux/macOS
    venv\Scripts\activate  # Для Windows
    ```

3.  Установите все зависимости:
    ```bash
    pip install -r requirements.txt
    ```

4.  **Настройте API:**
    - **Google Earth Engine:** Пройдите аутентификацию, выполнив в терминале:
      ```bash
      earthengine authenticate
      ```
    - **Copernicus CDS:** Создайте файл `.cdsapirc` в вашей домашней директории со следующим содержанием:
      ```
      url: https://cds.climate.copernicus.eu/api/v2
      key: ВАШ_UID:ВАШ_API_КЛЮЧ
      ```
      (Ключ можно получить на сайте CDS).

## Использование

1.  **Подготовка данных**:
    Запустите скрипт `1_data_preparation.py`. Он выполнит все шаги по сбору и обработке данных и создаст в папке `data/` два файла: `final_start.csv` и `final_end.csv`. Этот процесс может занять много времени.
    ```bash
    python 1_data_preparation.py
    ```

2.  **Обучение модели**:
    После подготовки данных запустите скрипт `2_train_model.py`, указав, какую модель обучать (`start` или `end`).
    ```bash
    # Обучение модели для начала вегетационного периода
    python 2_train_model.py --period_type start

    # Обучение модели для конца вегетационного периода
    python 2_train_model.py --period_type end
    ```
    Скрипт сохранит обученную модель (`.pkl`) и графики анализа (`.png`) в папку `models/`.
